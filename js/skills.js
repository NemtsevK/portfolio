import{skills}from"./data/skills.js";function initSkillsContainer(){const e=document.querySelector(".skills__list"),t=document.querySelector("#skill").content.querySelector(".skills__item"),l=document.createDocumentFragment();skills.forEach((e=>{const{name:a,title:o,about:n}=e,i=t.cloneNode(!0),s=getImagePath(e),c=!1===n?"div":"button",r=!1===n?"skills__item-picture":"skills__item-button",d=document.createElement(c);d.classList.add(r),!1!==n&&(d.name=a),d.title=o,d.ariaLabel=a,d.style.backgroundImage=`url("${s}")`,i.appendChild(d),l.appendChild(i)})),e.appendChild(l),e.addEventListener("click",(({target:e})=>{if("BUTTON"===e.tagName){setModal(skills.find((t=>t.name===e.name)))}}))}function setModal(e){const{title:t,image:l,about:a}=e,o=document.querySelector(".page"),n=document.querySelector(".modal"),i=n.querySelector(".modal__image"),s=n.querySelector(".modal__title"),c=n.querySelector(".modal__about"),r=n.querySelector(".modal__close"),d=()=>{n.close(),s.innerText="",c.innerText="",o.classList.remove("page--scroll-lock")};o.classList.add("page--scroll-lock"),n.showModal(),i.src=getImagePath(e),i.alt=t,s.innerText=t,a.forEach((e=>{const t=document.createElement("li");t.classList.add("modal__about-item"),t.innerText=e,c.appendChild(t)})),n.addEventListener("click",(({currentTarget:e,target:t})=>{t===e&&d()})),n.addEventListener("keydown",(e=>{"Escape"===e.code&&d()})),r.addEventListener("click",(()=>d()))}function setSkillsImage(){document.querySelectorAll(".skills__item-button, .skills__item-picture").forEach(((e,t)=>{const l=getImagePath(skills[t]);e.style.backgroundImage=`url("${l}")`}))}function getImagePath(e){const{image:t,darkTheme:l}=e;return!0===("dark"===window.localStorage.getItem("theme"))&&!0===l?t.replace(/(\w+)\.svg$/,"$1-dark.svg"):t}export{initSkillsContainer,setSkillsImage};