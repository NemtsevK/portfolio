import{works}from"./data/works.js";const body=document.querySelector(".page__body");function removeElements(e,o){const t=document.querySelector(e);document.querySelectorAll(o).forEach((e=>{t.removeChild(e)}))}function clearModal(){body.classList.remove("page__body--scroll-lock"),removeElements(".modal__technologies",".modal__technology"),removeElements(".modal__about",".modal__about-item")}export function initModal(){const e=document.querySelector(".modal"),o=document.querySelectorAll(".works__item-link"),t=document.querySelector(".modal__close");e.addEventListener("click",(({currentTarget:o,target:t})=>{t===e&&(o.close(),clearModal())})),document.addEventListener("keydown",(o=>{"Escape"===o.key&&e.open&&clearModal()})),t.addEventListener("click",(()=>{e.close(),clearModal()})),o.forEach((o=>{o.addEventListener("click",(()=>{const t=e.querySelector(".modal__technologies"),l=e.querySelector(".modal__about"),r=o.querySelector(".works__item-input").value,c=works.find((e=>e.id===r)),{title:a,description:d,about:n,site:i,source:s,image:m,technologies:_}=c;e.showModal(),e.querySelector(".modal__title").innerText=a,e.querySelector(".modal__description").innerText=d,e.querySelector(".modal__link--site").href=i,e.querySelector(".modal__link--source").href=s,e.querySelector(".modal__link-image").href=i,e.querySelector(".modal__image").src=m,e.querySelector(".modal__image").alt=a,n.forEach((e=>{const o=document.createElement("p");o.classList.add("modal__about-item"),o.innerText=e,l.appendChild(o)})),_.forEach((e=>{const o=document.createElement("li");o.classList.add("modal__technology"),o.innerText=e,t.appendChild(o)})),body.classList.add("page__body--scroll-lock")}))}))}