import{wrapGrid}from"https://cdn.skypack.dev/animate-css-grid@latest";import{works}from"./data/works.js";function initWorksContainer(){const e=document.querySelector(".works__list"),t=document.querySelector(".works__button");setWorksContainer();e.addEventListener("click",(t=>{const o=t.target.closest(".work");if(t.target.closest(".work__button--close"))return o.classList.remove("work--active"),void(o.tabIndex="0");showActiveContainer(o,e)})),e.addEventListener("keyup",(t=>{"Enter"===t.code&&showActiveContainer(t.target,e)})),t.addEventListener("click",(({target:e})=>{const t=e.classList.contains("works__button--active");e.classList.toggle("works__button--active");document.querySelectorAll(".work").forEach(((e,t)=>{!1===works[t].visible&&e.classList.toggle("work--hidden")})),e.textContent=!0===t?"Показать больше":"Скрыть"}))}function setWorksContainer(){const e=document.querySelector(".works__list"),t=document.querySelector("#work").content.querySelector(".work"),o=document.createDocumentFragment();works.forEach((({title:e,description:r,image:n,about:c,site:s,technologies:i,source:a,visible:l})=>{const d=t.cloneNode(!0),k=d.querySelector(".work__technologies"),u=d.querySelector(".work__about");d.querySelector(".work__title").innerText=e,d.querySelector(".work__description").innerText=r,d.querySelector(".work__image").src=n,d.querySelector(".work__image").alt=e,d.querySelector(".work__button--site").href=s,d.querySelector(".work__button--source").href=a,!1===l&&d.classList.add("work--hidden"),c.forEach((e=>{const t=document.createElement("li");t.classList.add("work__about-item"),t.innerText=e,u.appendChild(t)})),i.forEach((e=>{const t=document.createElement("li");t.classList.add("work__technology"),t.innerText=e,k.appendChild(t)})),o.appendChild(d)})),e.appendChild(o)}function showActiveContainer(e,t){if(e&&!1===e.classList.contains("work--active")){wrapGrid(t);const o=t.querySelector(".work--active");o&&(o.classList.remove("work--active"),o.tabIndex="0"),e.classList.add("work--active"),e.tabIndex="-1"}}export{initWorksContainer};